function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"ce395286deff4cb08aca276d6349ba77"});n.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){var t;200===e.code?(t=e.data.token,n.setToken(o.file,t)):(window.messageBox.showInfo(e.message),n.stop())},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoXCIjdmlkZW8taW5mb1wiKTtcclxuICAgIHZhciB2aWRlb191cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcclxuICAgIHZhciBjb3Zlcl91cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLWNvdmVyLXVybFwiKTtcclxuICAgIHZhciBjb3Vyc2VfaWQgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY291cnNlLWlkJyk7XHJcblxyXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgIGZpbGU6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcclxuICAgICAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBBY2Nlc3NLZXlcclxuICAgICAgICAgICAgYWs6ICdjZTM5NTI4NmRlZmY0Y2IwOGFjYTI3NmQ2MzQ5YmE3NydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JyxmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZighL20zdTgvLnRlc3QoZS5maWxlKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9fdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjb3Vyc2VfaWQnOiBjb3Vyc2VfaWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsdG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhyZXN1bHRbJ21lc3NhZ2UnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdmYWlsJzogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0UGxheWVyKCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlRGV0YWlsLnJ1bigpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIkNvdXJzZURldGFpbCIsInByb3RvdHlwZSIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm9TcGFuIiwiJCIsInZpZGVvX3VybCIsImF0dHIiLCJjb3Zlcl91cmwiLCJjb3Vyc2VfaWQiLCJwbGF5ZXIiLCJjeWJlcnBsYXllciIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlIiwiaW1hZ2UiLCJhdXRvc3RhcnQiLCJzdHJldGNoaW5nIiwicmVwZWF0Iiwidm9sdW1lIiwiY29udHJvbHMiLCJ0b2tlbkVuY3J5cHQiLCJhayIsIm9uIiwiZSIsInRlc3QiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInZpZGVvIiwic3VjY2VzcyIsInJlc3VsdCIsInRva2VuIiwic2V0VG9rZW4iLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJzdG9wIiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUdUQSxhQUFhQyxVQUFVQyxXQUFhLFdBQ2hDLElBQUlDLEVBQWdCQyxFQUFFLGVBQ2xCQyxFQUFZRixFQUFjRyxLQUFLLGtCQUMvQkMsRUFBWUosRUFBY0csS0FBSyxrQkFDL0JFLEVBQVlMLEVBQWNHLEtBQUssa0JBRS9CRyxFQUFTQyxZQUFZLG1CQUFtQkMsTUFBTSxDQUMxQ0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1ULEVBQ05VLE1BQU9SLEVBQ1BTLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBR1JiLEVBQU9jLEdBQUcsYUFBYSxTQUFVQyxHQUN6QixPQUFPQyxLQUFLRCxFQUFFVixPQUdsQlksUUFBUUMsSUFBSSxDQUNSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVN6QixFQUNURyxVQUFhQSxHQUVqQnVCLFFBQVcsU0FBVUMsR0FDakIsSUFDUUMsRUFEYyxNQUFuQkQsRUFBYSxNQUNSQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN2QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBS21CLEtBRXZCRSxPQUFPQyxXQUFXQyxTQUFTTCxFQUFnQixTQUMzQ3ZCLEVBQU82QixTQUdmQyxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTWhDeEMsYUFBYUMsVUFBVTBDLElBQU0sV0FDekJDLEtBQUsxQyxjQUlURSxFQUFFLFlBQ3FCLElBQUlKLGNBQ1YyQyJ9
