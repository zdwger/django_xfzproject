function FrontBase(){}function Auth(){var t=this;t.maskWrapper=$(".mask-wrapper"),t.scrollWrapper=$(".scroll-wrapper"),t.smsCaptcha=$(".sms-captcha-btn")}FrontBase.prototype.run=function(){this.listenAuthBoxHover(),this.handleNavStatus()},FrontBase.prototype.listenAuthBoxHover=function(){var t=$(".auth-box"),n=$(".user-more-box");t.hover(function(){n.show()},function(){n.hide()})},FrontBase.prototype.handleNavStatus=function(){var t=window.location.href,n=window.location.protocol+"//"+window.location.host,e=t.replace(n,"");$(".nav li").each(function(t,n){n=$(n);if(n.children("a").attr("href")===e)return n.addClass("active"),!1})},Auth.prototype.run=function(){var t=this;t.listenShowHideEvent(),t.listenSwitchEvent(),t.listenSigninEvent(),t.listenImgCaptchaEvent(),t.listenSmsCaptchaEvent(),t.listenSignupEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.smsSuccessEvent=function(){var t=this;messageBox.showSuccess("短信验证码发送成功！"),t.smsCaptcha.addClass("disabled");var n=10;t.smsCaptcha.unbind("click");var e=setInterval(function(){t.smsCaptcha.text(n+"s"),--n<=0&&(clearInterval(e),t.smsCaptcha.removeClass("disabled"),t.smsCaptcha.text("发送验证码"),t.listenSmsCaptchaEvent())},1e3)},Auth.prototype.listenShowHideEvent=function(){var t=this,n=$(".signin-btn"),e=$(".signup-btn"),a=$(".close-btn");n.click(function(){t.showEvent(),t.scrollWrapper.css({left:0})}),e.click(function(){t.showEvent(),t.scrollWrapper.css({left:-400})}),a.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var n=this;$(".switch").click(function(){var t=n.scrollWrapper.css("left");(t=parseInt(t))<0?n.scrollWrapper.animate({left:"0"}):n.scrollWrapper.animate({left:"-400px"})})},Auth.prototype.listenImgCaptchaEvent=function(){var t=$(".img-captcha");t.click(function(){t.attr("src","/account/img_captcha/?random="+Math.random())})},Auth.prototype.listenSmsCaptchaEvent=function(){var n=this,t=$(".sms-captcha-btn"),e=$(".signup-group input[name='telephone']");t.click(function(){var t=e.val();t||messageBox.showInfo("请输入手机号码！"),xfzajax.get({url:"/account/sms_captcha/",data:{telephone:t},success:function(t){200==t.code&&n.smsSuccessEvent()},fail:function(t){console.log(t)}})})},Auth.prototype.listenSigninEvent=function(){var a=this,t=$(".signin-group"),s=t.find("input[name='telephone']"),i=t.find("input[name='password']"),o=t.find("input[name='remember']");t.find(".submit-btn").click(function(t){t.preventDefault();var n=s.val(),e=i.val(),t=o.prop("checked");xfzajax.post({url:"/account/login/",data:{telephone:n,password:e,remember:t?1:0},success:function(t){a.hideEvent(),window.location.reload()}})})},Auth.prototype.listenSignupEvent=function(){var o=$(".signup-group");o.find(".submit-btn").click(function(t){t.preventDefault();var n=o.find("input[name='telephone']"),e=o.find("input[name='username']"),a=o.find("input[name='img_captcha']"),s=o.find("input[name='password1']"),i=o.find("input[name='password2']"),t=o.find("input[name='sms_captcha']"),n=n.val(),e=e.val(),a=a.val(),s=s.val(),i=i.val(),t=t.val();xfzajax.post({url:"/account/register/",data:{telephone:n,username:e,img_captcha:a,password1:s,password2:i,sms_captcha:t},success:function(t){window.location.reload()}})})},$(function(){(new Auth).run()}),$(function(){(new FrontBase).run()}),$(function(){window.template&&(template.defaults.imports.timeSince=function(t){var n=new Date(t),t=n.getTime(),t=((new Date).getTime()-t)/1e3;return t<60?"刚刚":60<=t&&t<3600?(minutes=parseInt(t/60),minutes+"分钟前"):3600<t&&t<86400?(hours=parseInt(t/60/60),hours+"小时前"):86400<t&&t<1296e3?void(days=parseInt(t/60/60/24)):n.getFullYear()+"/"+n.getMonth()+"/"+n.getDay()+" "+n.getHours()+":"+n.getMinutes()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJvbnRfYmFzZS5taW4uanMiLCJzb3VyY2VzIjpbImZyb250X2Jhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8vIOeUqOadpeWkhOeQhuWvvOiIquadoeeahFxyXG5mdW5jdGlvbiBGcm9udEJhc2UoKSB7fVxyXG5cclxuXHJcbkZyb250QmFzZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5BdXRoQm94SG92ZXIoKTtcclxuICAgIHNlbGYuaGFuZGxlTmF2U3RhdHVzKCk7XHJcbn07XHJcblxyXG5Gcm9udEJhc2UucHJvdG90eXBlLmxpc3RlbkF1dGhCb3hIb3ZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhdXRoQm94ID0gJChcIi5hdXRoLWJveFwiKTtcclxuICAgIHZhciB1c2VyTW9yZUJveCA9ICQoXCIudXNlci1tb3JlLWJveFwiKTtcclxuICAgIGF1dGhCb3guaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJNb3JlQm94LnNob3coKTtcclxuICAgIH0sZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJNb3JlQm94LmhpZGUoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbkZyb250QmFzZS5wcm90b3R5cGUuaGFuZGxlTmF2U3RhdHVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gaHR0cDovLzEyNy4wLjAuMTo4MDAwL3BheWluZm8vXHJcbiAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XHJcbiAgICB2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xyXG4gICAgLy8gaHR0cDogKyAvLyArIDEyNy4wLjAuMTo4MDAwXHJcbiAgICB2YXIgZG9tYWluID0gcHJvdG9jb2wgKyAnLy8nICsgaG9zdDtcclxuICAgIHZhciBwYXRoID0gdXJsLnJlcGxhY2UoZG9tYWluLCcnKTtcclxuICAgIHZhciBuYXZMaXMgPSAkKFwiLm5hdiBsaVwiKTtcclxuICAgIG5hdkxpcy5lYWNoKGZ1bmN0aW9uIChpbmRleCxlbGVtZW50KSB7XHJcbiAgICAgICAgLy8ganMgPT4gJChqc+WvueixoSlcclxuICAgICAgICB2YXIgbGkgPSAkKGVsZW1lbnQpO1xyXG4gICAgICAgIHZhciBhVGFnID0gbGkuY2hpbGRyZW4oXCJhXCIpO1xyXG4gICAgICAgIHZhciBocmVmID0gYVRhZy5hdHRyKFwiaHJlZlwiKTtcclxuICAgICAgICBpZihocmVmID09PSBwYXRoKXtcclxuICAgICAgICAgICAgbGkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5cclxuLy8g55So5p2l5aSE55CG55m75b2V5ZKM5rOo5YaM55qEXHJcbmZ1bmN0aW9uIEF1dGgoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1hc2tXcmFwcGVyID0gJCgnLm1hc2std3JhcHBlcicpO1xyXG4gICAgc2VsZi5zY3JvbGxXcmFwcGVyID0gJChcIi5zY3JvbGwtd3JhcHBlclwiKTtcclxuICAgIHNlbGYuc21zQ2FwdGNoYSA9ICQoJy5zbXMtY2FwdGNoYS1idG4nKTtcclxufVxyXG5cclxuQXV0aC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5TaG93SGlkZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblN3aXRjaEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblNpZ25pbkV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkltZ0NhcHRjaGFFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5TbXNDYXB0Y2hhRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuU2lnbnVwRXZlbnQoKTtcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLnNob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWFza1dyYXBwZXIuc2hvdygpO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUuaGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlci5oaWRlKCk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5zbXNTdWNjZXNzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBtZXNzYWdlQm94LnNob3dTdWNjZXNzKCfnn63kv6Hpqozor4HnoIHlj5HpgIHmiJDlip/vvIEnKTtcclxuICAgIHNlbGYuc21zQ2FwdGNoYS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgIHZhciBjb3VudCA9IDEwO1xyXG4gICAgc2VsZi5zbXNDYXB0Y2hhLnVuYmluZCgnY2xpY2snKTtcclxuICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNtc0NhcHRjaGEudGV4dChjb3VudCsncycpO1xyXG4gICAgICAgIGNvdW50IC09IDE7XHJcbiAgICAgICAgaWYoY291bnQgPD0gMCl7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgICAgICBzZWxmLnNtc0NhcHRjaGEucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIHNlbGYuc21zQ2FwdGNoYS50ZXh0KCflj5HpgIHpqozor4HnoIEnKTtcclxuICAgICAgICAgICAgc2VsZi5saXN0ZW5TbXNDYXB0Y2hhRXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9LDEwMDApO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuU2hvd0hpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBzaWduaW5CdG4gPSAkKCcuc2lnbmluLWJ0bicpO1xyXG4gICAgdmFyIHNpZ251cEJ0biA9ICQoJy5zaWdudXAtYnRuJyk7XHJcbiAgICB2YXIgY2xvc2VCdG4gPSAkKCcuY2xvc2UtYnRuJyk7XHJcblxyXG4gICAgc2lnbmluQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNob3dFdmVudCgpO1xyXG4gICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5jc3Moe1wibGVmdFwiOjB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNpZ251cEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zaG93RXZlbnQoKTtcclxuICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuY3NzKHtcImxlZnRcIjotNDAwfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5oaWRlRXZlbnQoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuU3dpdGNoRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc3dpdGNoZXIgPSAkKFwiLnN3aXRjaFwiKTtcclxuICAgIHN3aXRjaGVyLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudExlZnQgPSBzZWxmLnNjcm9sbFdyYXBwZXIuY3NzKFwibGVmdFwiKTtcclxuICAgICAgICBjdXJyZW50TGVmdCA9IHBhcnNlSW50KGN1cnJlbnRMZWZ0KTtcclxuICAgICAgICBpZihjdXJyZW50TGVmdCA8IDApe1xyXG4gICAgICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6JzAnfSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5hbmltYXRlKHtcImxlZnRcIjpcIi00MDBweFwifSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5JbWdDYXB0Y2hhRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaW1nQ2FwdGNoYSA9ICQoJy5pbWctY2FwdGNoYScpO1xyXG4gICAgaW1nQ2FwdGNoYS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW1nQ2FwdGNoYS5hdHRyKFwic3JjXCIsXCIvYWNjb3VudC9pbWdfY2FwdGNoYS9cIitcIj9yYW5kb209XCIrTWF0aC5yYW5kb20oKSlcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuU21zQ2FwdGNoYUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHNtc0NhcHRjaGEgPSAkKFwiLnNtcy1jYXB0Y2hhLWJ0blwiKTtcclxuICAgIHZhciB0ZWxlcGhvbmVJbnB1dCA9ICQoXCIuc2lnbnVwLWdyb3VwIGlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpO1xyXG4gICAgc21zQ2FwdGNoYS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHRlbGVwaG9uZUlucHV0LnZhbCgpO1xyXG4gICAgICAgIGlmKCF0ZWxlcGhvbmUpe1xyXG4gICAgICAgICAgICBtZXNzYWdlQm94LnNob3dJbmZvKCfor7fovpPlhaXmiYvmnLrlj7fnoIHvvIEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9hY2NvdW50L3Ntc19jYXB0Y2hhLycsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAndGVsZXBob25lJzogdGVsZXBob25lXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNtc1N1Y2Nlc3NFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlblNpZ25pbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHNpZ25pbkdyb3VwID0gJCgnLnNpZ25pbi1ncm91cCcpO1xyXG4gICAgdmFyIHRlbGVwaG9uZUlucHV0ID0gc2lnbmluR3JvdXAuZmluZChcImlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpO1xyXG4gICAgdmFyIHBhc3N3b3JkSW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXVwiKTtcclxuICAgIHZhciByZW1lbWJlcklucHV0ID0gc2lnbmluR3JvdXAuZmluZChcImlucHV0W25hbWU9J3JlbWVtYmVyJ11cIik7XHJcblxyXG4gICAgdmFyIHN1Ym1pdEJ0biA9IHNpZ25pbkdyb3VwLmZpbmQoXCIuc3VibWl0LWJ0blwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHRlbGVwaG9uZUlucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciBwYXNzd29yZCA9IHBhc3N3b3JkSW5wdXQudmFsKCk7XHJcbiAgICAgICAgdmFyIHJlbWVtYmVyID0gcmVtZW1iZXJJbnB1dC5wcm9wKFwiY2hlY2tlZFwiKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9hY2NvdW50L2xvZ2luLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3RlbGVwaG9uZSc6IHRlbGVwaG9uZSxcclxuICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgJ3JlbWVtYmVyJzogcmVtZW1iZXI/MTowXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuU2lnbnVwRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2lnbnVwR3JvdXAgPSAkKCcuc2lnbnVwLWdyb3VwJyk7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gc2lnbnVwR3JvdXAuZmluZCgnLnN1Ym1pdC1idG4nKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB0ZWxlcGhvbmVJbnB1dCA9IHNpZ251cEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcclxuICAgICAgICB2YXIgdXNlcm5hbWVJbnB1dCA9IHNpZ251cEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd1c2VybmFtZSddXCIpO1xyXG4gICAgICAgIHZhciBpbWdDYXB0Y2hhSW5wdXQgPSBzaWdudXBHcm91cC5maW5kKFwiaW5wdXRbbmFtZT0naW1nX2NhcHRjaGEnXVwiKTtcclxuICAgICAgICB2YXIgcGFzc3dvcmQxSW5wdXQgPSBzaWdudXBHcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQxJ11cIik7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkMklucHV0ID0gc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J3Bhc3N3b3JkMiddXCIpO1xyXG4gICAgICAgIHZhciBzbXNDYXB0Y2hhSW5wdXQgPSBzaWdudXBHcm91cC5maW5kKFwiaW5wdXRbbmFtZT0nc21zX2NhcHRjaGEnXVwiKTtcclxuXHJcbiAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHRlbGVwaG9uZUlucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciB1c2VybmFtZSA9IHVzZXJuYW1lSW5wdXQudmFsKCk7XHJcbiAgICAgICAgdmFyIGltZ19jYXB0Y2hhID0gaW1nQ2FwdGNoYUlucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciBwYXNzd29yZDEgPSBwYXNzd29yZDFJbnB1dC52YWwoKTtcclxuICAgICAgICB2YXIgcGFzc3dvcmQyID0gcGFzc3dvcmQySW5wdXQudmFsKCk7XHJcbiAgICAgICAgdmFyIHNtc19jYXB0Y2hhID0gc21zQ2FwdGNoYUlucHV0LnZhbCgpO1xyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9hY2NvdW50L3JlZ2lzdGVyLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3RlbGVwaG9uZSc6IHRlbGVwaG9uZSxcclxuICAgICAgICAgICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgJ2ltZ19jYXB0Y2hhJzogaW1nX2NhcHRjaGEsXHJcbiAgICAgICAgICAgICAgICAncGFzc3dvcmQxJzogcGFzc3dvcmQxLFxyXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkMic6IHBhc3N3b3JkMixcclxuICAgICAgICAgICAgICAgICdzbXNfY2FwdGNoYSc6IHNtc19jYXB0Y2hhXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhdXRoID0gbmV3IEF1dGgoKTtcclxuICAgIGF1dGgucnVuKCk7XHJcbn0pO1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGZyb250QmFzZSA9IG5ldyBGcm9udEJhc2UoKTtcclxuICAgIGZyb250QmFzZS5ydW4oKTtcclxufSk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmKHdpbmRvdy50ZW1wbGF0ZSl7XHJcbiAgICAgICAgdGVtcGxhdGUuZGVmYXVsdHMuaW1wb3J0cy50aW1lU2luY2UgPSBmdW5jdGlvbiAoZGF0YVZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkYXRhVmFsdWUpO1xyXG4gICAgICAgIHZhciBkYXRldHMgPSBkYXRlLmdldFRpbWUoKTtcclxuICAgICAgICB2YXIgbmV3dHMgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHZhciB0aW1lc3RhbXAgPSAobmV3dHMgLSBkYXRldHMpIC8gMTAwMDtcclxuICAgICAgICBpZiAodGltZXN0YW1wIDwgNjApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwi5Yia5YiaXCJcclxuICAgICAgICB9IGVsc2UgaWYgKHRpbWVzdGFtcCA+PSA2MCAmJiB0aW1lc3RhbXAgPCA2MCAqIDYwKSB7XHJcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBwYXJzZUludCh0aW1lc3RhbXAgLyA2MCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtaW51dGVzICsgXCLliIbpkp/liY1cIjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRpbWVzdGFtcCA+IDYwICogNjAgJiYgdGltZXN0YW1wIDwgNjAgKiA2MCAqIDI0KSB7XHJcbiAgICAgICAgICAgIGhvdXJzID0gcGFyc2VJbnQodGltZXN0YW1wIC8gNjAgLyA2MClcclxuICAgICAgICAgICAgcmV0dXJuIGhvdXJzICsgXCLlsI/ml7bliY1cIjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRpbWVzdGFtcCA+IDYwICogNjAgKiAyNCAmJiB0aW1lc3RhbXAgPCA2MCAqIDYwICogMTIgKiAzMCkge1xyXG4gICAgICAgICAgICBkYXlzID0gcGFyc2VJbnQodGltZXN0YW1wIC8gNjAgLyA2MCAvIDI0KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICB2YXIgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xyXG4gICAgICAgICAgICB2YXIgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTtcclxuICAgICAgICAgICAgdmFyIG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgICAgICByZXR1cm4geWVhciArICcvJyArIG1vbnRoICsgJy8nICsgZGF5ICsgJyAnICsgaG91ciArIFwiOlwiICsgbWludXRlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgfVxyXG59KSJdLCJuYW1lcyI6WyJGcm9udEJhc2UiLCJBdXRoIiwic2VsZiIsInRoaXMiLCJtYXNrV3JhcHBlciIsIiQiLCJzY3JvbGxXcmFwcGVyIiwic21zQ2FwdGNoYSIsInByb3RvdHlwZSIsInJ1biIsImxpc3RlbkF1dGhCb3hIb3ZlciIsImhhbmRsZU5hdlN0YXR1cyIsImF1dGhCb3giLCJ1c2VyTW9yZUJveCIsImhvdmVyIiwic2hvdyIsImhpZGUiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJkb21haW4iLCJwcm90b2NvbCIsImhvc3QiLCJwYXRoIiwicmVwbGFjZSIsImVhY2giLCJpbmRleCIsImVsZW1lbnQiLCJsaSIsImNoaWxkcmVuIiwiYXR0ciIsImFkZENsYXNzIiwibGlzdGVuU2hvd0hpZGVFdmVudCIsImxpc3RlblN3aXRjaEV2ZW50IiwibGlzdGVuU2lnbmluRXZlbnQiLCJsaXN0ZW5JbWdDYXB0Y2hhRXZlbnQiLCJsaXN0ZW5TbXNDYXB0Y2hhRXZlbnQiLCJsaXN0ZW5TaWdudXBFdmVudCIsInNob3dFdmVudCIsImhpZGVFdmVudCIsInNtc1N1Y2Nlc3NFdmVudCIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsImNvdW50IiwidW5iaW5kIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsInRleHQiLCJjbGVhckludGVydmFsIiwicmVtb3ZlQ2xhc3MiLCJzaWduaW5CdG4iLCJzaWdudXBCdG4iLCJjbG9zZUJ0biIsImNsaWNrIiwiY3NzIiwibGVmdCIsImN1cnJlbnRMZWZ0IiwicGFyc2VJbnQiLCJhbmltYXRlIiwiaW1nQ2FwdGNoYSIsIk1hdGgiLCJyYW5kb20iLCJ0ZWxlcGhvbmVJbnB1dCIsInRlbGVwaG9uZSIsInZhbCIsInNob3dJbmZvIiwieGZ6YWpheCIsImdldCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNpZ25pbkdyb3VwIiwiZmluZCIsInBhc3N3b3JkSW5wdXQiLCJyZW1lbWJlcklucHV0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhc3N3b3JkIiwicmVtZW1iZXIiLCJwcm9wIiwicG9zdCIsInJlbG9hZCIsInNpZ251cEdyb3VwIiwidXNlcm5hbWVJbnB1dCIsImltZ0NhcHRjaGFJbnB1dCIsInBhc3N3b3JkMUlucHV0IiwicGFzc3dvcmQySW5wdXQiLCJzbXNDYXB0Y2hhSW5wdXQiLCJ1c2VybmFtZSIsImltZ19jYXB0Y2hhIiwicGFzc3dvcmQxIiwicGFzc3dvcmQyIiwic21zX2NhcHRjaGEiLCJ0ZW1wbGF0ZSIsImRlZmF1bHRzIiwiaW1wb3J0cyIsInRpbWVTaW5jZSIsImRhdGFWYWx1ZSIsImRhdGUiLCJEYXRlIiwiZGF0ZXRzIiwiZ2V0VGltZSIsInRpbWVzdGFtcCIsIm1pbnV0ZXMiLCJob3VycyIsImRheXMiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF5IiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIl0sIm1hcHBpbmdzIjoiQUFFQSxTQUFTQSxhQTRDVCxTQUFTQyxPQUNMLElBQUlDLEVBQU9DLEtBQ1hELEVBQUtFLFlBQWNDLEVBQUUsaUJBQ3JCSCxFQUFLSSxjQUFnQkQsRUFBRSxtQkFDdkJILEVBQUtLLFdBQWFGLEVBQUUsb0JBN0N4QkwsVUFBVVEsVUFBVUMsSUFBTSxXQUNYTixLQUNOTyxxQkFETVAsS0FFTlEsbUJBR1RYLFVBQVVRLFVBQVVFLG1CQUFxQixXQUNyQyxJQUFJRSxFQUFVUCxFQUFFLGFBQ1pRLEVBQWNSLEVBQUUsa0JBQ3BCTyxFQUFRRSxNQUFNLFdBQ1ZELEVBQVlFLFFBQ2QsV0FDRUYsRUFBWUcsVUFLcEJoQixVQUFVUSxVQUFVRyxnQkFBa0IsV0FFbEMsSUFBSU0sRUFBTUMsT0FBT0MsU0FBU0MsS0FJdEJDLEVBSFdILE9BQU9DLFNBQVNHLFNBR1AsS0FGYkosT0FBT0MsU0FBU0ksS0FHdkJDLEVBQU9QLEVBQUlRLFFBQVFKLEVBQU8sSUFDakJoQixFQUFFLFdBQ1JxQixLQUFLLFNBQVVDLEVBQU1DLEdBRXBCQyxFQUFLeEIsRUFBRXVCLEdBR1gsR0FGV0MsRUFBR0MsU0FBUyxLQUNQQyxLQUFLLFVBQ1RQLEVBRVIsT0FEQUssRUFBR0csU0FBUyxXQUNMLEtBZW5CL0IsS0FBS08sVUFBVUMsSUFBTSxXQUNqQixJQUFJUCxFQUFPQyxLQUNYRCxFQUFLK0Isc0JBQ0wvQixFQUFLZ0Msb0JBQ0xoQyxFQUFLaUMsb0JBQ0xqQyxFQUFLa0Msd0JBQ0xsQyxFQUFLbUMsd0JBQ0xuQyxFQUFLb0MscUJBR1RyQyxLQUFLTyxVQUFVK0IsVUFBWSxXQUNacEMsS0FDTkMsWUFBWVcsUUFHckJkLEtBQUtPLFVBQVVnQyxVQUFZLFdBQ1pyQyxLQUNOQyxZQUFZWSxRQUdyQmYsS0FBS08sVUFBVWlDLGdCQUFrQixXQUM3QixJQUFJdkMsRUFBT0MsS0FDWHVDLFdBQVdDLFlBQVksY0FDdkJ6QyxFQUFLSyxXQUFXeUIsU0FBUyxZQUN6QixJQUFJWSxFQUFRLEdBQ1oxQyxFQUFLSyxXQUFXc0MsT0FBTyxTQUN2QixJQUFJQyxFQUFRQyxZQUFZLFdBQ3BCN0MsRUFBS0ssV0FBV3lDLEtBQUtKLEVBQU0sT0FDM0JBLEdBQ1ksSUFDUkssY0FBY0gsR0FDZDVDLEVBQUtLLFdBQVcyQyxZQUFZLFlBQzVCaEQsRUFBS0ssV0FBV3lDLEtBQUssU0FDckI5QyxFQUFLbUMsMEJBRVgsTUFHTnBDLEtBQUtPLFVBQVV5QixvQkFBc0IsV0FDakMsSUFBSS9CLEVBQU9DLEtBQ1BnRCxFQUFZOUMsRUFBRSxlQUNkK0MsRUFBWS9DLEVBQUUsZUFDZGdELEVBQVdoRCxFQUFFLGNBRWpCOEMsRUFBVUcsTUFBTSxXQUNacEQsRUFBS3FDLFlBQ0xyQyxFQUFLSSxjQUFjaUQsSUFBSSxDQUFDQyxLQUFPLE1BR25DSixFQUFVRSxNQUFNLFdBQ1pwRCxFQUFLcUMsWUFDTHJDLEVBQUtJLGNBQWNpRCxJQUFJLENBQUNDLE1BQVEsUUFHcENILEVBQVNDLE1BQU0sV0FDWHBELEVBQUtzQyxlQUlidkMsS0FBS08sVUFBVTBCLGtCQUFvQixXQUMvQixJQUFJaEMsRUFBT0MsS0FDSUUsRUFBRSxXQUNSaUQsTUFBTSxXQUNYLElBQUlHLEVBQWN2RCxFQUFLSSxjQUFjaUQsSUFBSSxTQUN6Q0UsRUFBY0MsU0FBU0QsSUFDTixFQUNidkQsRUFBS0ksY0FBY3FELFFBQVEsQ0FBQ0gsS0FBTyxNQUVuQ3RELEVBQUtJLGNBQWNxRCxRQUFRLENBQUNILEtBQU8sY0FLL0N2RCxLQUFLTyxVQUFVNEIsc0JBQXdCLFdBQ25DLElBQUl3QixFQUFhdkQsRUFBRSxnQkFDbkJ1RCxFQUFXTixNQUFNLFdBQ2JNLEVBQVc3QixLQUFLLE1BQU0sZ0NBQW1DOEIsS0FBS0MsYUFJdEU3RCxLQUFLTyxVQUFVNkIsc0JBQXdCLFdBQ25DLElBQUluQyxFQUFPQyxLQUNQSSxFQUFhRixFQUFFLG9CQUNmMEQsRUFBaUIxRCxFQUFFLHlDQUN2QkUsRUFBVytDLE1BQU0sV0FDYixJQUFJVSxFQUFZRCxFQUFlRSxNQUMzQkQsR0FDQXRCLFdBQVd3QixTQUFTLFlBRXhCQyxRQUFRQyxJQUFJLENBQ1JuRCxJQUFPLHdCQUNQb0QsS0FBTyxDQUNITCxVQUFhQSxHQUVqQk0sUUFBVyxTQUFVQyxHQUNJLEtBQWxCQSxFQUFhLE1BQ1pyRSxFQUFLdUMsbUJBR2IrQixLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTTVCeEUsS0FBS08sVUFBVTJCLGtCQUFvQixXQUMvQixJQUFJakMsRUFBT0MsS0FDUHlFLEVBQWN2RSxFQUFFLGlCQUNoQjBELEVBQWlCYSxFQUFZQyxLQUFLLDJCQUNsQ0MsRUFBZ0JGLEVBQVlDLEtBQUssMEJBQ2pDRSxFQUFnQkgsRUFBWUMsS0FBSywwQkFFckJELEVBQVlDLEtBQUssZUFDdkJ2QixNQUFNLFNBQVUwQixHQUN0QkEsRUFBTUMsaUJBQ04sSUFBSWpCLEVBQVlELEVBQWVFLE1BQzNCaUIsRUFBV0osRUFBY2IsTUFDekJrQixFQUFXSixFQUFjSyxLQUFLLFdBQ2xDakIsUUFBUWtCLEtBQUssQ0FDVHBFLElBQU8sa0JBQ1BvRCxLQUFRLENBQ0pMLFVBQWFBLEVBQ2JrQixTQUFZQSxFQUNaQyxTQUFZQSxFQUFTLEVBQUUsR0FFM0JiLFFBQVcsU0FBVUMsR0FDakJyRSxFQUFLc0MsWUFDTHRCLE9BQU9DLFNBQVNtRSxlQU9oQ3JGLEtBQUtPLFVBQVU4QixrQkFBb0IsV0FDL0IsSUFBSWlELEVBQWNsRixFQUFFLGlCQUNKa0YsRUFBWVYsS0FBSyxlQUN2QnZCLE1BQU0sU0FBVTBCLEdBQ3RCQSxFQUFNQyxpQkFDTixJQUFJbEIsRUFBaUJ3QixFQUFZVixLQUFLLDJCQUNsQ1csRUFBZ0JELEVBQVlWLEtBQUssMEJBQ2pDWSxFQUFrQkYsRUFBWVYsS0FBSyw2QkFDbkNhLEVBQWlCSCxFQUFZVixLQUFLLDJCQUNsQ2MsRUFBaUJKLEVBQVlWLEtBQUssMkJBQ2xDZSxFQUFrQkwsRUFBWVYsS0FBSyw2QkFFbkNiLEVBQVlELEVBQWVFLE1BQzNCNEIsRUFBV0wsRUFBY3ZCLE1BQ3pCNkIsRUFBY0wsRUFBZ0J4QixNQUM5QjhCLEVBQVlMLEVBQWV6QixNQUMzQitCLEVBQVlMLEVBQWUxQixNQUMzQmdDLEVBQWNMLEVBQWdCM0IsTUFFbENFLFFBQVFrQixLQUFLLENBQ1RwRSxJQUFPLHFCQUNQb0QsS0FBUSxDQUNKTCxVQUFhQSxFQUNiNkIsU0FBWUEsRUFDWkMsWUFBZUEsRUFDZkMsVUFBYUEsRUFDYkMsVUFBYUEsRUFDYkMsWUFBZUEsR0FFbkIzQixRQUFXLFNBQVVDLEdBQ2pCckQsT0FBT0MsU0FBU21FLGVBT2hDakYsRUFBRSxZQUNhLElBQUlKLE1BQ1ZRLFFBSVRKLEVBQUUsWUFDa0IsSUFBSUwsV0FDVlMsUUFHZEosRUFBRSxXQUNLYSxPQUFPZ0YsV0FDTkEsU0FBU0MsU0FBU0MsUUFBUUMsVUFBWSxTQUFVQyxHQUNoRCxJQUFJQyxFQUFPLElBQUlDLEtBQUtGLEdBQ2hCRyxFQUFTRixFQUFLRyxVQUVkQyxJQURRLElBQUtILE1BQVFFLFVBQ0FELEdBQVUsSUFDbkMsT0FBSUUsRUFBWSxHQUNMLEtBQ2EsSUFBYkEsR0FBbUJBLEVBQVksTUFDdENDLFFBQVVsRCxTQUFTaUQsRUFBWSxJQUN4QkMsUUFBVSxPQUNFLEtBQVpELEdBQXVCQSxFQUFZLE9BQzFDRSxNQUFRbkQsU0FBU2lELEVBQVksR0FBSyxJQUMzQkUsTUFBUSxPQUNJLE1BQVpGLEdBQTRCQSxFQUFZLFlBQy9DRyxLQUFPcEQsU0FBU2lELEVBQVksR0FBSyxHQUFLLEtBRTNCSixFQUFLUSxjQUtGLElBSkZSLEVBQUtTLFdBSVcsSUFIbEJULEVBQUtVLFNBR3lCLElBRjdCVixFQUFLVyxXQUVxQyxJQUR4Q1gsRUFBS1kifQ==
